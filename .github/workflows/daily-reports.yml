name: Daily Reports Trigger

on:
  schedule:
    # Run daily at 4 PM Amsterdam time (3 PM UTC)
    - cron: '0 15 * * *'
  workflow_dispatch: # Allow manual triggering

jobs:
  trigger-daily-reports:
    runs-on: ubuntu-latest
    
    steps:
      - name: Trigger Daily Reports
        run: |
          curl -X POST https://juggernaut-three.vercel.app/api/trigger-daily-reports \
            -H "Content-Type: application/json" \
            -d '{"triggered_by": "github-actions"}'
        
      - name: Check Response
        run: |
          echo "Daily reports triggered successfully"
          echo "Check Vercel function logs for detailed results"